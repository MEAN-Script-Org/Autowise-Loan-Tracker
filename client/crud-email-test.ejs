<!DOCTYPE html>
<html>
<head>
<% include partials/header.ejs %>
</head>
<body>
<% include partials/nav.ejs %>

<div class="col-sm-9 col-sm-offset-3 col-lg-10 col-lg-offset-2 main" 
     ng-app="SWEApp" ng-controller="LoginController" ng-init="init()">

    <!-- End of filters -->
    <!-- Start of accordion content -->

    <div class="row">
      <div class="col-md-12">
        <div class="container-accordion">
          <div class="accordion">
            <dl>
              <!-- make this into a compenent/partial -->
              <!-- to be it for user view -->
              <div ng-repeat="username in usernames | orderBy:'updated_at':reverse | filter:wantedID">
                {{ username }}               
              </div>
            </dl>
          </div>
        </div>
      </div>
    </div>

    {{usernames}}
    {{newUser.username}}
    {{usernames.includes(newUser.username)}}
  
    <form ng-submit="addUser()">
      <h3>New Loan</h3>
      <div>
        <input placeholder="Username" type="text" ng-model="newUser.username" required>
      <span style="color:red" ng-show="usernames.includes(newUser.username)"> Username already taken </span>
      </div>
      <div>
        <input placeholder="Legal Full Name" type="text" ng-model="newUser.name" required>
      </div>
      <div>
        <input placeholder="Email" type="email" ng-model="newUser.email">
      </div>
      <div>
        <input placeholder="Password" type="password" ng-model="newUser.password">
      </div>
      <div>
        <input placeholder="Driver's License" type="text" ng-model="newUser.dl">
      </div>
      <div>
        <input type="date" ng-model="newUser.dob">
      </div>

      <input type="submit" class="btn btn-default">
      <input type="submit" class="hidden">
    </form>
</div>

<% include partials/footer.ejs %>

</body>
</html>