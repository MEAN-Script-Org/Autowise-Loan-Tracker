
<div class="row">
  <div class="col-xs-12">
    <div class="modal fade" data-keyboard="false" data-backdrop="static" id="changePasswordModal" tabindex="-1">
      <div class="modal-dialog" style="width: 60%; min-width: 615px;">
        <div class="modal-content">
          <div class="modal-header centered-text">
            <button type="button" class="close" data-dismiss="modal">&times;</button>
              
              <b><h3>Change your password</h3><b>
              <br>
            <ul class="nav nav-tabs" id="tabContent">
            </ul>
          </div>

          <div class="modal-body">
            <!-- BUYER'S ORDER TABBED PAGES -->
            <div class="tab-content">
              
              <!-- TAB - Password input -->
              <div class="form-group">
                  <label for="pwd">Current Password:</label>
                  <input type="password" class="form-control" id="pwd">
              </div>

              <div class="form-group">
                  <label for="pwd">New Password:</label>
                  <input type="password" class="form-control" id="pw1" ng-model='pw1' ng-required/>
              </div>

              <div class="form-group">
                  <label for="pwd">Confirm New Password:</label>
                  <input type="password" class="form-control" id="pw2"  ng-model='pw2' ng-required pw-check='pw1'>
              </div>

              <div class='msg-block' ng-show='myForm.$error'>
                  <span class='msg-error' ng-show='myForm.pw2.$error.pwmatch'>
                    Passwords don't match.
                  </span>
              </div>
              
              </div>
           
              </div>

              <div class="modal-footer">
                  <button class="btn btn-primary" ng-click="addLoanWithBO()">Submit</button>
                  <button class="btn btn-default" data-dismiss="modal">Cancel</button>
              </div>
              <br>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>


<!-- en masse Change status modal -->
<div class="container">
  <div class="row">
    <div class="col-xs-12">
      <div class="modal fade" data-keyboard="false" data-backdrop="static" id="changeModalEnMasse" tabindex="-1">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header centered-text">
              <button type="button" class="close" data-dismiss="modal">
                &times;
              </button>
              <span>
                <h3>Change the status of the selected loans to</h3>
                <!-- <br> -->
                <!-- TODO: Figure the angular way to default to something instead of common html of 'selected' -->
                <select name="Loan Status" ng-model="newStatusMass">
                    <option disabled selected>New Status</option>
                    <option value="RECEIVED">Received</option>
                    <option value="SUBMITTED">Submitted</option>
                    <option value="PENDING">Pending</option>
                    <option value="VERIFIED">Verified</option>
                    <option value="APPROVED">Approved</option>
                    <option value="DENIED">Denied</option>
                </select>
              </span>
            </div>
            <div class="modal-footer">
              <button class="btn btn-primary" data-dismiss="modal" ng-click="updateStatusEnMass(newStatusMass)">Update</button>
              <button class="btn btn-primary" data-dismiss="modal">Close</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- Single Change status modal -->
<div class="container">
  <div class="row">
    <div class="col-xs-12">
      <div class="modal fade" data-keyboard="false" data-backdrop="static" id="changeModal" tabindex="-1">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header centered-text">
              <button type="button" class="close" data-dismiss="modal">
                &times;
              </button>
              <span>
                <h3>Change the status of the {{currLoan.buyers_order.purchaser.name}}'s {{currLoan.type}} loan to:</h3>
                <!-- TODO: Figure the angular way to default to something instead of common html of 'selected' -->
                <select name="Loan Status" ng-model="newStatus">
                    <!-- <option disabled selected>New Status</option> -->
                    <option value="RECEIVED">Received</option>
                    <option value="SUBMITTED">Submitted</option>
                    <option value="PENDING">Pending</option>
                    <option value="VERIFIED">Verified</option>
                    <option value="APPROVED">Approved</option>
                    <option value="DENIED">Denied</option>
                </select>
              </span>
            </div>
            <div class="modal-footer">
              <button class="btn btn-primary" data-dismiss="modal" ng-click="changeLoanStatus(currLoan._id, newStatus)">Update</button>
              <button class="btn btn-primary" data-dismiss="modal">Close</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- Marcial: Need better Modal CSS -->
<!--          Doesn't need to be mobile friendly -->
<!-- TODO:  VALIDATION AND CLEANING (no need for 'name fields') -->
<div class="row">
  <div class="col-xs-12">
    <div class="modal fade" data-keyboard="false" data-backdrop="static" id="buyersOrderModal" tabindex="-1">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal">&times;</button>
            <h2 class="centered-text">Buyer's Order</h2>
            <div style="background: #f2f3f2;">
              <!-- for moble, this + display: grid == GG -->
              <ul class="nav nav-tabs centered-text" id="tabContent">
                <li class="active">
                  <a href="#customer-info" data-toggle="tab">Customer Info</a>
                </li>
                <li> <a href="#car-info" data-toggle="tab">Car Info</a> </li>
                <li> <a href="#financing" data-toggle="tab">Financing</a> </li>
                <li> <a href="#trade-info" data-toggle="tab">Trade Info</a> </li>
                <li> <a href="#insurance" data-toggle="tab">Insurance</a> </li>
              </ul>
            </div>
          </div>
          <div class="modal-body">
            <!-- BUYER'S ORDER TABBED PAGES -->
            <div class="tab-content">
              <!-- TAB - Customer Information -->
              <!-- <h5>Basic Info</h5> -->
              <div class="tab-pane active" id="customer-info">
                <h3>Purchaser Information</h3>
                <hr>
                <div class="row">
                  <div class="col-sm-5">
                    <div class="group">
                      <input class="inputMODAL" type="text" name="customer-name" ng-model="bo.purchaser.name" required>
                      <span class="highlight required"></span>
                      <span class="bar"></span>
                      <label>Full Name</label>
                    </div>
                  </div>
                  <div class="col-sm-4">
                    <div class="group">
                      <input class="dateInput inputMODAL" type="date" name="customer-dob" ng-model="bo.purchaser.dob" required>
                      <span class="highlight required"></span>
                      <span class="bar"></span>
                      <label>DOB</label>
                    </div>
                  </div>
                  <div class="col-sm-3">
                    <div class="group">
                      <input class="inputMODAL" type="text" name="customer-dl" ng-model="bo.purchaser.dl" required>
                      <span class="highlight required"></span>
                      <span class="bar"></span>
                      <label>DL</label>
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-sm-4">
                    <div class="group">
                      <input class="inputMODAL" type="email" name="customer-email" ng-model="bo.purchaser.email" required>
                      <span class="highlight required"></span>
                      <span class="bar"></span>
                      <label>Email</label>
                    </div>
                  </div>
                  <div class="col-sm-4">
                    <div class="group">
                      <input class="inputMODAL" type="tel" name="customer-phone" ng-model="bo.purchaser.phone.cell" required>
                      <span class="highlight required"></span>
                      <span class="bar"></span>
                      <label>Phone Number</label>
                    </div>
                  </div>
                  <div class="col-sm-4">
                    <div class="group">
                      <input class="inputMODAL" type="tel" name="customer-home" ng-model="bo.purchaser.phone.home" required>
                      <span class="highlight"></span>
                      <span class="bar"></span>
                      <label>Home Number</label>
                    </div>
                  </div>
                </div>
                <br>
                <!-- <h5>Address</h5> -->
                <div class="row">
                  <div class="col-sm-12">
                    <div class="group">
                      <input class="inputMODAL" type="text" name="contact-street-address" ng-model="bo.purchaser.address.street" required>
                      <span class="highlight required"></span>
                      <span class="bar"></span>
                      <label>Street</label>
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-sm-3">
                    <div class="group">
                      <input class="inputMODAL required" type="text" name="contact-city" ng-model="bo.purchaser.address.city" required>
                      <span class="highlight required"></span>
                      <span class="bar"></span>
                      <label>City</label>
                    </div>
                  </div>
                  <div class="col-sm-3">
                    <div class="group">
                      <input class="inputMODAL required" type="text" name="contact-state" ng-model="bo.purchaser.address.state" required>
                      <span class="highlight required"></span>
                      <span class="bar"></span>
                      <label>State</label>
                    </div>
                  </div>
                  <div class="col-sm-3">
                    <div class="group">
                      <input class="inputMODAL required" type="text" name="contact-county" ng-model="bo.purchaser.address.county" required>
                      <span class="highlight required"></span>
                      <span class="bar"></span>
                      <label>County</label>
                    </div>
                  </div>
                  <div class="col-sm-3">
                    <div class="group">
                      <input class="inputMODAL required" type="number" name="contact-zip" ng-model="bo.purchaser.address.zip" required>
                      <span class="highlight required"></span>
                      <span class="bar"></span>
                      <label>Zip Code</label>
                    </div>
                  </div>
                </div>
                <br>
                <div class="row">
                  <div class="col-sm-10">
                    <h5 class="header-switch"> Adding a Co-Purchaser?
                      <label class="switch switch-slide">
                        <input class="switch-input" type="checkbox" ng-model="bo.copurchaser.valid" ng-true-value="true" ng-false-value="false" value="false" />
                        <span class="switch-label" data-on="Yes" data-off="No"></span>
                        <span class="switch-handle"></span>
                      </label>
                    </h5>
                  </div>
                </div>
                <!--Co-purchaser fields: hidden if the above field is marked "No" -->
                <div ng-class="bo.copurchaser.valid ? 'co-purchase-show' : ''" class="co-purchase">
                  <!-- <h5>Basic Info</h5> -->
                  <div class="row">
                    <div class="col-sm-4">
                      <div class="group">
                        <input class="inputMODAL" type="text" name="customer-name" ng-model="bo.copurchaser.name" required>
                        <span class="highlight required"></span>
                        <span class="bar"></span>
                        <label>Full Name</label>
                      </div>
                    </div>
                    <div class="col-sm-4">
                      <div class="group">
                        <input class="dateInput inputMODAL" type="date" name="customer-dob" ng-model="bo.copurchaser.dob" required >
                        <span class="highlight required"></span>
                        <span class="bar"></span>
                        <label>DOB</label>
                      </div>
                    </div>
                    <div class="col-sm-4">
                      <div class="group">
                        <input class="inputMODAL" type="text" name="customer-dl" ng-model="bo.copurchaser.dl" required >
                        <span class="highlight required"></span>
                        <span class="bar"></span>
                        <label>DL</label>
                      </div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-sm-4">
                      <div class="group">
                        <input class="inputMODAL" type="email" name="customer-email" ng-model="bo.copurchaser.email" required >
                        <span class="highlight required"></span>
                        <span class="bar"></span>
                        <label>Email</label>
                      </div>
                    </div>
                    <div class="col-sm-4">
                      <div class="group">
                        <input class="inputMODAL" type="tel" name="customer-phone" ng-model="bo.copurchaser.phone.cell" required >
                        <span class="highlight required"></span>
                        <span class="bar"></span>
                        <label>Phone Number</label>
                      </div>
                    </div>
                    <div class="col-sm-4">
                      <div class="group">
                        <input class="inputMODAL" type="tel" name="customer-home" ng-model="bo.copurchaser.phone.home" required >
                        <span class="highlight"></span>
                        <span class="bar"></span>
                        <label>Home Number</label>
                      </div>
                    </div>
                  </div>
                  <br>
                  <!-- <h5>Address</h5> -->
                  <div class="row">
                    <div class="col-sm-12">
                      <div class="group">
                        <input class="inputMODAL" type="text" name="contact-street-address" ng-model="bo.copurchaser.address.street" required >
                        <span class="highlight required"></span>
                        <span class="bar"></span>
                        <label>Street</label>
                      </div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-sm-3">
                      <div class="group">
                        <input class="inputMODAL" type="text" name="contact-city" ng-model="bo.copurchaser.address.city" required >
                        <span class="highlight required"></span>
                        <span class="bar"></span>
                        <label>City</label>
                      </div>
                    </div>
                    <div class="col-sm-3">
                      <div class="group">
                        <input class="inputMODAL" type="text" name="contact-state" ng-model="bo.copurchaser.address.state" required >
                        <span class="highlight required"></span>
                        <span class="bar"></span>
                        <label>State</label>
                      </div>
                    </div>
                    <div class="col-sm-3">
                      <div class="group">
                        <input class="inputMODAL" type="text" name="contact-county" ng-model="bo.copurchaser.address.county" required >
                        <span class="highlight required"></span>
                        <span class="bar"></span>
                        <label>County</label>
                      </div>
                    </div>
                    <div class="col-sm-3">
                      <div class="group">
                        <input class="inputMODAL" type="number" name="contact-zip" ng-model="bo.copurchaser.address.zip" required >
                        <span class="highlight required"></span>
                        <span class="bar"></span>
                        <label>Zip Code</label>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <!-- TAB - Car Information -->
              <div class="tab-pane" id="car-info">
                <h3> Wanted Car Information </h3>
                <hr>
                
                <div class="row">
                  
                </div>
                <div class="row">
                  <div class="col-sm-4">
                    <div class="group">
                      <input class="inputMODAL" type="number" name="car-year" ng-model="bo.car_info.year" required>
                      <span class="highlight required"></span>
                      <span class="bar"></span>
                      <label>Year</label>
                    </div>
                  </div>
                  <div class="col-sm-4">
                    <div class="group">
                      <input class="inputMODAL" type="text" name="car-make" ng-model="bo.car_info.make" required>
                      <span class="highlight required"></span>
                      <span class="bar"></span>
                      <label>Make</label>
                    </div>
                  </div>
                  <div class="col-sm-4">
                    <div class="group">
                      <input class="inputMODAL" type="text" name="car-model" ng-model="bo.car_info.model" required>
                      <span class="highlight required"></span>
                      <span class="bar"></span>
                      <label>Model</label>
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-sm-4">
                    <div class="group selector">
                      <input class="inputMODAL" type="text" name="car-type" ng-model="bo.car_info.type_t" required
                      ng-focus="onFocusInput('0')" 
                      ng-change="onEditInput('0')"
                      ng-blur="onBlurInput('0')"
                      >

                      <span class="highlight required"></span>
                      <span class="bar"></span>
                      <label>New or Used?</label>
                      <div class="sudo-select type">
                        <ul class="category-options" id="sudo-select-0">
                          <li class="category-option" data-value="false" ng-mousedown="setCarUsed('type', false)">
                            New
                          </li>
                          <li class="category-option" data-value="true" ng-mousedown="setCarUsed('type', true)">
                            Used
                          </li>
                        </ul>
                      </div>
                    </div>
                  </div>                      
                  <div class="col-sm-4">
                    <div class="group">
                      <input class="inputMODAL" type="text" name="car-color" ng-model="bo.car_info.color" required>
                      <span class="highlight required"></span>
                      <span class="bar"></span>
                      <label>Color</label>
                    </div>
                  </div>
                  <div class="col-sm-4">
                    <div class="group">
                      <input class="inputMODAL" type="number" name="car-mileage" ng-model="bo.car_info.mileage" required>
                      <span class="highlight required"></span>
                      <span class="bar"></span>
                      <label>Mileage</label>
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-sm-4">
                    <div class="group">
                      <input class="inputMODAL" type="number" name="car-cyl" ng-model="bo.car_info.cyl" required>
                      <span class="highlight"></span>
                      <span class="bar"></span>
                      <label>Cylinders</label>
                    </div>
                  </div>
                  <div class="col-sm-4">
                    <div class="group">
                      <input class="inputMODAL" type="number" name="car-serial-no" ng-model="bo.car_info.serial_no" required>
                      <span class="highlight"></span>
                      <span class="bar"></span>
                      <label>Serial Number</label>
                    </div>
                  </div>
                  <div class="col-sm-4">
                    <div class="group">
                      <input class="inputMODAL" type="number" name="car-stock-num" ng-model="bo.car_info.stock_no" required>
                      <span class="highlight"></span>
                      <span class="bar"></span>
                      <label>Stock Number</label>
                    </div>
                  </div>
                </div>
                <!-- <br> -->
                <div class="row">
                  <div class="col-sm-6">
                    <div class="group">
                      <input class="inputMODAL" type="text" name="car-salesperson" ng-model="bo.car_info.salesperson" required>
                      <span class="highlight"></span>
                      <span class="bar"></span>
                      <label>Salesperson</label>
                    </div>
                  </div>
                  <div class="col-sm-6">
                    <div class="group">
                      <input class="inputMODAL" type="text" name="car-lender" ng-model="bo.car_info.lender" required>
                      <span class="highlight"></span>
                      <span class="bar"></span>
                      <label>Lender</label>
                    </div>
                  </div>
                </div>
                  
                <div class="row">
                  <div class="col-sm-6">
                    <div class="group selector">
                      <input class="inputMODAL" type="text" name="car-purchase-new-tag" ng-model="bo.car_info.license_plate" required 
                      ng-focus="onFocusInput('1')" 
                      ng-change="onEditInput('1')"
                      ng-blur="onBlurInput('1')"
                      >
                      
                      <span class="highlight required"></span>
                      <span class="bar"></span>
                      <label>License Plate (New/Used)</label>
                      <div class="sudo-select">
                        <ul id="sudo-select-1" class="category-options" >
                          <li class="category-option" data-value="false" ng-mousedown="setCarUsed('plate', false)">
                            New
                          </li>
                          <li class="category-option" data-value="true" ng-mousedown="setCarUsed('plate', true)">
                            Used
                          </li>
                        </ul>
                      </div>
                    </div>
                  </div>
                  <div class="col-sm-6">
                    <div class="group">
                      <input class="inputMODAL" type="text" name="car-plate-no" ng-model="bo.car_info.plate_no" required>
                      <span class="highlight"></span>
                      <span class="bar"></span>
                      <label>Plate Number</label>
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-sm-4">
                    <div class="group">
                      <input class="inputMODAL" type="text" name="car-transfer" ng-model="bo.car_info.transfer" required>
                      <span class="highlight"></span>
                      <span class="bar"></span>
                      <label>Transfer</label>
                    </div>
                  </div>
                  <div class="col-sm-4">
                    <div class="group">
                      <input class="inputMODAL" type="text" name="car-tag-no" ng-model="bo.car_info.tag_no" required>
                      <span class="highlight"></span>
                      <span class="bar"></span>
                      <label>Tag Number</label>
                    </div>
                  </div>
                  <div class="col-sm-4">
                    <div class="group">
                      <input class="dateInput inputMODAL" type="date" name="car-exp-date" ng-model="bo.car_info.exp_date" required>
                      <span class="highlight"></span>
                      <span class="bar"></span>
                      <label>Expiration Date</label>
                    </div>
                  </div>
                </div>
              </div>
              <!-- TAB - Financing -->
              <div class="tab-pane" id="financing">
                <h3> Financing </h3>
                <hr>
                <div class="row">
                  <div class="col-sm-6">
                    <div class="group">
                      <input class="inputMODAL" type="text" name="nada_retail" ng-model="bo.finances.nada_retail" required>
                      <span class="highlight required"></span>
                      <span class="bar"></span>
                      <label>NADA Retail</label>
                    </div>
                  </div>
                  <div class="col-sm-6">
                    <div class="group">
                      <input class="inputMODAL" type="number" name="total-sale-price" ng-model="bo.finances.total_sale_price" required>
                      <span class="highlight required"></span>
                      <span class="bar"></span>
                      <label>Total Sale Price</label>
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-sm-6">
                    <div class="group">
                      <input class="inputMODAL" type="number" name="trade-allowance" ng-model="bo.finances.trade_allowance" required>
                      <span class="highlight required"></span>
                      <span class="bar"></span>
                      <label>Trade Allowance</label>
                    </div>
                  </div>
                  <div class="col-sm-6">
                    <div class="group">
                      <input class="inputMODAL" type="number" name="trade-difference" ng-model="bo.finances.trade_difference" required>
                      <span class="highlight required"></span>
                      <span class="bar"></span>
                      <label>Trade Difference</label>
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-sm-4">
                    <div class="group">
                      <input class="inputMODAL" type="number" name="admin-fees" ng-model="bo.finances.admin_fees" required>
                      <span class="highlight required"></span>
                      <span class="bar"></span>
                      <label>Admin Fees</label>
                    </div>
                  </div>
                  <div class="col-sm-4">
                    <div class="group">
                      <input class="inputMODAL" type="number" name="bal-owed-on-trade" ng-model="bo.finances.bal_owed_on_trade" required>
                      <span class="highlight required"></span>
                      <span class="bar"></span>
                      <label>Balance Owed</label>
                    </div>
                  </div>
                  <div class="col-sm-4">
                    <div class="group">
                      <input class="inputMODAL" type="number" name="total-due" ng-model="bo.finances.total_due" required>
                      <span class="highlight required"></span>
                      <span class="bar"></span>
                      <label>Total Due</label>
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-sm-8"></div>
                  <div class="col-sm-4">
                    <div class="group">
                      <input class="inputMODAL" type="number" name="sub-total-a" ng-model="bo.finances.sub_total_a" required>
                      <span class="highlight"></span>
                      <span class="bar"></span>
                      <label>Sub Total A</label>
                    </div>
                  </div>
                </div>
                <!-- <br> -->
                <div class="row">
                  <div class="col-sm-6">
                    <h5 class="header-switch"> Sales Tax Is County:
                            <label class="switch switch-slide">
                                <input class="switch-input" type="checkbox" ng-model="bo.financies.sales_tax.is_county" ng-true-value="true" ng-false-value="false" value="false"/>
                                <span class="switch-label" data-on="Yes" data-off="No"></span>
                                <span class="switch-handle"></span>
                            </label>
                        </h5>
                  </div>
                  <div class="col-sm-6">
                    <div class="group">
                      <input class="inputMODAL" type="number" name="percentage" ng-model="bo.finances.sales_tax.percentage" required>
                      <span class="highlight"></span>
                      <span class="bar"></span>
                      <label>Sales Tax %</label>
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-sm-4">
                    <div class="group">
                      <input class="inputMODAL" type="number" name="estimated-fees" ng-model="bo.finances.estimated_fees" required>
                      <span class="highlight"></span>
                      <span class="bar"></span>
                      <label>Estimated Fees</label>
                    </div>
                  </div>
                  <div class="col-sm-4">
                    <div class="group">
                      <input class="inputMODAL" type="number" name="lemon-law-fee" ng-model="bo.finances.lemon_law_fee" required>
                      <span class="highlight"></span>
                      <span class="bar"></span>
                      <label>Lemon Law Fee</label>
                    </div>
                  </div>
                  <div class="col-sm-4">
                    <div class="group">
                      <input class="inputMODAL" type="number" name="sub-total-b" ng-model="bo.finances.sub_total_b" required>
                      <span class="highlight"></span>
                      <span class="bar"></span>
                      <label>Sub Total B</label>
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-sm-6">
                    <div class="group">
                      <input class="inputMODAL" type="number" name="down-payment" ng-model="bo.finances.down_payment" required>
                      <span class="highlight"></span>
                      <span class="bar"></span>
                      <label>Down Payment</label>
                    </div>
                  </div>
                  <div class="col-sm-6">
                    <div class="group">
                      <input class="inputMODAL" type="number" name="unpaid-due" ng-model="bo.finances.unpaid_due" required>
                      <span class="highlight"></span>
                      <span class="bar"></span>
                      <label>Unpaid Due</label>
                    </div>
                  </div>
                </div>
              </div>
              <!-- TAB - Trades Information -->
              <div class="tab-pane" id="trade-info">
                <h3> Trade Information </h3>
                <hr>
                <div class="row">
                  <div class="col-sm-4">
                    <h5 class="header-switch"> Adding a Trade?
                  </div>
                  <div class="col-sm-3">
                      <label class="switch switch-slide">
                        <input class="switch-input" type="checkbox" ng-model="bo.trade.valid" ng-true-value="true" ng-false-value="false" value="false" />
                        <span class="switch-label" data-on="Yes" data-off="No"></span>
                        <span class="switch-handle"></span>
                      </label>
                    </h5>
                  </div>
                </div>

                <!-- TODO:  -->
                <!-- trying to get the same styling as 'adding a co-purchaser' -->
                <!-- ng-class="bo.trade.valid ? 'co-purchase-show' : ''"  -->
                <div ng-class="bo.trade.valid ? 'visible' : 'invisible'">
                  <div class="row">
                    <div class="col-sm-4">
                      <div class="group">
                        <input class="inputMODAL" type="number" name="car-year" ng-model="bo.trade_in.year" required>
                        <span class="highlight required"></span>
                        <span class="bar"></span>
                        <label>Year</label>
                      </div>
                    </div>
                    <div class="col-sm-4">
                      <div class="group">
                        <input class="inputMODAL" type="text" name="car-make" ng-model="bo.trade_in.make" required>
                        <span class="highlight required"></span>
                        <span class="bar"></span>
                        <label>Make</label>
                      </div>
                    </div>
                    <div class="col-sm-4">
                      <div class="group">
                        <input class="inputMODAL" type="text" name="car-model" ng-model="bo.trade_in.model" required>
                        <span class="highlight required"></span>
                        <span class="bar"></span>
                        <label>Model</label>
                      </div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-sm-4">
                      <div class="group">
                        <input class="inputMODAL" type="text" name="car-type_t" ng-model="bo.trade_in.type_t" required>
                        <span class="highlight required"></span>
                        <span class="bar"></span>
                        <label>Type</label>
                      </div>
                    </div>
                    <div class="col-sm-4">
                      <div class="group">
                        <input class="inputMODAL" type="text" name="car-color" ng-model="bo.trade_in.color" required>
                        <span class="highlight required"></span>
                        <span class="bar"></span>
                        <label>Color</label>
                      </div>
                    </div>
                    <div class="col-sm-4">
                      <div class="group">
                        <input class="inputMODAL" type="number" name="car-mileage" ng-model="bo.trade_in.mileage" required>
                        <span class="highlight required"></span>
                        <span class="bar"></span>
                        <label>Mileage</label>
                      </div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-sm-4">
                      <div class="group">
                        <input class="inputMODAL" type="number" name="amount" ng-model="bo.trade_in.payoff" required>
                        <span class="highlight required"></span>
                        <span class="bar"></span>
                        <label>Pay Off Amount</label>
                      </div>
                    </div>
                    <div class="col-sm-4">
                      <div class="group">
                        <input class="inputMODAL" type="number" name="car-cyl" ng-model="bo.trade_in.cyl" required>
                        <span class="highlight"></span>
                        <span class="bar"></span>
                        <label>Cylinders</label>
                      </div>
                    </div>
                    <div class="col-sm-4">
                      <div class="group">
                        <input class="inputMODAL" type="number" name="car-serial" ng-model="bo.trade_in.serial_no" required>
                        <span class="highlight"></span>
                        <span class="bar"></span>
                        <label>Serial Number</label>
                      </div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-sm-4">
                      <div class="group">
                        <input class="inputMODAL" type="number" name="account-num" ng-model="bo.trade_in.account_no" required>
                        <span class="highlight"></span>
                        <span class="bar"></span>
                        <label>Account Number</label>
                      </div>
                    </div>
                    <div class="col-sm-4">
                      <div class="group">
                        <input class="inputMODAL" type="text" name="holder" ng-model="bo.trade_in.holder" required>
                        <span class="highlight"></span>
                        <span class="bar"></span>
                        <label>Holder</label>
                      </div>
                    </div>
                    <div class="col-sm-4">
                      <div class="group">
                        <input class="inputMODAL" type="text" name="address" ng-model="bo.trade_in.address" required>
                        <span class="highlight"></span>
                        <span class="bar"></span>
                        <label>Address</label>
                      </div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-sm-4">
                      <div class="group">
                        <input class="inputMODAL" type="text" name="qualif-by" ng-model="bo.trade_in.qualif_by" required>
                        <span class="highlight"></span>
                        <span class="bar"></span>
                        <label>Qualified By</label>
                      </div>
                    </div>
                    <div class="col-sm-4">
                      <div class="group">
                        <input class="inputMODAL" type="text" name="verif_by" ng-model="bo.trade_in.verif_by" required>
                        <span class="highlight"></span>
                        <span class="bar"></span>
                        <label>Verified By</label>
                      </div>
                    </div>
                    <div class="col-sm-4">
                      <div class="group">
                        <input class="dateInput inputMODAL" type="date" name="good-thru" ng-model="bo.trade_in.good_thru" required>
                        <span class="highlight"></span>
                        <span class="bar"></span>
                        <label>Good Through</label>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <!-- TAB - Insurance -->
              <div class="tab-pane" id="insurance">
                <h3> Insurance </h3>
                <hr>
                <div class="row">
                  <div class="col-sm-4">
                    <div class="group">
                      <input class="inputMODAL" type="number" name="ins-policy-num" ng-model="bo.insr.policy_no" required>
                      <span class="highlight required"></span>
                      <span class="bar"></span>
                      <label>Policy Number</label>
                    </div>
                  </div>
                  <div class="col-sm-4">
                    <div class="group">
                      <input class="inputMODAL" type="text" name="company" ng-model="bo.insr.company" required>
                      <span class="highlight required"></span>
                      <span class="bar"></span>
                      <label>Company</label>
                    </div>
                  </div>
                  <div class="col-sm-4">
                    <div class="group">
                      <input class="dateInput inputMODAL" type="date" name="eff-dates" ng-model="bo.insr.eff_dates" required>
                      <span class="highlight"></span>
                      <span class="bar"></span>
                      <label>Eff Dates</label>
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-sm-4">
                    <div class="group">
                      <input class="inputMODAL" type="text" name="agent" ng-model="bo.insr.agent" required>
                      <span class="highlight"></span>
                      <span class="bar"></span>
                      <label>Agent</label>
                    </div>
                  </div>
                  <div class="col-sm-4">
                    <div class="group">
                      <input class="inputMODAL" type="number" name="ins-phone-num" ng-model="bo.insr.phone_no" required>
                      <span class="highlight"></span>
                      <span class="bar"></span>
                      <label>Phone Number</label>
                    </div>
                  </div>
                  <div class="col-sm-4">
                    <div class="group">
                      <input class="inputMODAL" type="text" name="verif-by" ng-model="bo.insr.verif_by" required>
                      <span class="highlight"></span>
                      <span class="bar"></span>
                      <label>Verified By</label>
                    </div>
                  </div>
                </div>
                <br>
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button ng-hide="isEditingLoan" class="btn btn-primary" type="submit" ng-click="addLoanWithBO()"
                    title="If clicking seems to be doing nothing, check the other tabs">
                    Submit
            </button>
            <button ng-show="isEditingLoan" class="btn btn-primary" type="submit" ng-click="updateLoanWithBO()"
                    title="If clicking seems to be doing nothing, check the other tabs">
                    Update
            </button>
            <button class="btn btn-default" data-dismiss="modal">Close</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- Warranties info: Any Year -->
<div class="container">
  <div class="row">
    <div class="col-xs-12">
      <div class="modal fade" data-keyboard="false" data-backdrop="static" id="Any-Year" tabindex="-1">
        <div class="modal-dialog" style="width: 60%; min-width: 700px;">
          <div class="modal-content">
            <div class="modal-header centered-text">
              <button type="button" class="close" data-dismiss="modal">
                &times;
              </button>
              <h3> <b> <u> Drivetrain "Plus" Coverage </u> </b> </h3>
              <br>
              <div class="warrantyDescription">
                <h4> <b> ENGINE </b>  </h4> Engine parts consisting of: Crankshaft and bearings, oil pump pickup/screen and tube, piston rings, wrist pins, connecting rods and rod bearings, timing gears and chain or belt, timing tensioners/guides, balance shafts, camshaft and camshaft bearings, push rods, rocker arms, rocker arm shaft and hydaulic lifters, intake and exhaust valves, valve springs, cylinder head gaskets. Engine blocks are also covered if mechanical failure was caused by the above-listed parts.
                <br />
                <br />
                <h4> <b> AUTOMATIC TRANSMISSION </b> </h4> Gears, inputs and output shafts, bearings, front pump, planetary assembly, sprags, governor assembly, valve body, torque converter, transmission case, overdrive carrier, reaction carrier, center support, parking lock actuator, stator and stator shaft, separator plate, pressure regulator valve, dipstick and filler tube.
                <br />
                <br />
                <h4> <b> STANDARD TRANSMISSION </b> </h4> Transmission parts consisting of: Gears, input and output shaft, bearings, overdrive housing and transmission case if malfunction was caused by the listed parts.
                <br />
                <br />
                <h4> <b> DRIVE AXLE ASSEMBLY (FRONT OF REAR WHEEL DRIVE) </b> </h4> Consisting of: Drive shaft, ring and pinion gears, pinion gears, pinion bearings, side carrier bearings, carrier assembly, thrust washers, axle, axle bearings, and limited slip clutch park assembly. Universal and CV joints.
                <br />
                <br />
                <h4> <b> DRIVE AXLE ASSEMBLY (4 WHEEL AND ALL-WHEEL DRIVE) </b> </h4> Transfer case including gears, main shaft, drive chain, thrust washer and shims, bearings. Front drive shaft, differential, axles, u-joints and CV joints.
                <br />
                <br />
                <h4> <b> SEALS AND GASKETS </b> </h4> Cylinder head gaskets, all other seals and gaskets are covered in conjunction with repair of above-listed components
                <br />
                <br />
                <h4> <b> COOLING </b> </h4> Water pump (limited to one-half parts and labor costs).
                <br />
                <br />
                <h4> <b> ELECTRICAL </b> </h4> Alternator, starter and voltage regulator (limited to one-half of parts and labor costs)
                <br />
                <br />
                <h4> <b> 24-HOUR ROADSIDE ASSISTANCE </b> </h4> Towing, flat tire changing, fuel delivery, lock-out service, jump starting, and Safe and Secure Package.
                <br />
                <br />
                <h4> <b> RENTAL CAR ALLOWANCE </b> </h4> Provided on all plans to get you back on the road quickly.
                <br />
                <br />
              </div>
            </div>
            <br>
            <div class="modal-footer">
              <button class="btn btn-default" data-dismiss="modal">Close</button>
              <button class="btn btn-primary " data-dismiss="modal" ng-click="emailWarrantyInterest(testUser)">
                <!-- Confirm this Plan -->
                I want this plan
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- Warranties info: 2007 or Newer -->
<div class="container">
  <div class="row">
    <div class="col-xs-12">
      <div class="modal fade" data-keyboard="false" data-backdrop="static" id="Deluxe" tabindex="-1">
        <div class="modal-dialog" style="width: 60%; min-width: 700px;">
          <div class="modal-content">
            <div class="modal-header centered-text">
              <button type="button" class="close" data-dismiss="modal">
                &times;
              </button>
              <h3> <b> <u> Deluxe Coverage </u> </b> </h3>
              <br>
              <div class="warrantyDescription">
                <h4> <b> ENGINE </b>  </h4> Engine parts consisting of: Crankshaft and bearings, oil pump pickup/screen and tube, piston rings, wrist pins, connecting rods and rod bearings, timing gears and chain or belt, timing tensioners/guides, balance shafts, camshaft and camshaft bearings, push rods, rocker arms, rocker arm shaft and hydaulic lifters, intake and exhaust valves, valve springs, cylinder head gaskets. Engine blocks are also covered if mechanical failure was caused by the above-listed parts.
                <br />
                <br />
                <h4> <b> AUTOMATIC TRANSMISSION </b> </h4> Gears, inputs and output shafts, bearings, front pump, planetary assembly, sprags, governor assembly, valve body, torque converter, transmission case, overdrive carrier, reaction carrier, center support, parking lock actuator, stator and stator shaft, separator plate, pressure regulator valve, dipstick and filler tube.
                <br />
                <br />
                <h4> <b> STANDARD TRANSMISSION </b> </h4> Transmission parts consisting of: Gears, input and output shaft, bearings, overdrive housing and transmission case if malfunction was caused by the listed parts.
                <br />
                <br />
                <h4> <b> DRIVE AXLE ASSEMBLY (FRONT OF REAR WHEEL DRIVE) </b> </h4> Consisting of: Drive shaft, ring and pinion gears, pinion gears, pinion bearings, side carrier bearings, carrier assembly, thrust washers, axle, axle bearings, and limited slip clutch park assembly. Universal and CV joints.
                <br />
                <br />
                <h4> <b> DRIVE AXLE ASSEMBLY (4 WHEEL AND ALL-WHEEL DRIVE) </b> </h4> Transfer case including gears, main shaft, drive chain, thrust washer and shims, bearings. Front drive shaft, differential, axles, u-joints and CV joints.
                <br />
                <br />
                <h4> <b> FRONT SUSPENSION </b> </h4> Upper and lower control arms, upper and lower ball joints, steering knuckle, wheel bearings, control arm shaft and bushings.
                <br />
                <br />
                <h4> <b> STEERING </b> </h4> Power steering pump, electronic steering motor, steering gear housing and its internal parts and rack and pinion assembly.
                <br />
                <br />
                <h4> <b> BRAKES </b> </h4> Master cylinder, ABS master cylinder, brake booster, wheel cylinders, disc brake caplipers, hydraulic lines and fittings.
                <br />
                <br />
                <h4> <b> SEALS AND GASKETS </b> </h4> Cylinder head gaskets, all other seals and gaskets are covered in conjunction with repair of above-listed components
                <br />
                <br />
                <h4> <b> COOLING </b> </h4> Radiator, fan clutch, cooling fan motor, and water pump
                <br />
                <br />
                <h4> <b> AIR CONDITIONING </b> </h4> (Factory installed only) Compressor, clutch and coil assembly, evaporator, accumulator, condenser, evacuation and recharge in conjunction with the replacement of listed components.
                <br />
                <br />
                <h4> <b> FUEL DELIVERY </b> </h4> Fuel pump, fuel sending unit, fuel tank, fuel injectors and metal fuel lines.
                <br />
                <br />
                <h4> <b> ELECTRICAL </b> </h4> Battery, engine operation computer, voltage regulator, alternator, front/rear wiper motors, wiper module, window motors, window regulators, seat motors, ignition module, ignition coil, distributor, starter, starter solenoid and door lock actuators. Manually operated switches for above listed parts.
                <br />
                <br />
                <h4> <b> 24-HOUR ROADSIDE ASSISTANCE </b> </h4> Towing, flat tire changing, fuel delivery, lock-out service, jump starting, and Safe and Secure Package.
                <br />
                <br />
                <h4> <b> RENTAL CAR ALLOWANCE </b> </h4> Provided on all plans to get you back on the road quickly.
                <br />
                <br />
              </div>
            </div>
            <br>
            <div class="modal-footer">
              <button class="btn btn-default" data-dismiss="modal">Close</button>
              <button class="btn btn-primary " data-dismiss="modal" ng-click="emailWarrantyInterest(testUser)">
                <!-- Confirm this Plan -->
                I want this plan
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- Warranties info: 2011 or Newer -->
<div class="container">
  <div class="row">
    <div class="col-xs-12">
      <div class="modal fade" data-keyboard="false" data-backdrop="static" id="Factory-Type" tabindex="-1">
        <div class="modal-dialog" style="width: 60%; min-width: 700px;">
          <div class="modal-content">
            <div class="modal-header centered-text">
              <button type="button" class="close" data-dismiss="modal">
                &times;
              </button>
              <h3> <b> <u> Factory Type Coverage </u> </b> </h3>
              <br />
              <div class="warrantyDescription">
                <h4> <b> WHAT'S COVERED </b> </h4> Includes all items coverered under the car manufacturer's original coverage, <u> EXCEPT</u> for those items listed under "items not covered" on <u>Service Agreement</u>.
                <br />
                <br />
                <h4> <b> BECAUSE WE COVER SO MANY PARTS - </b> </h4> We could not possibly list all the components. Instead we list the small number of things that are not covered. For example: oil, brake shoes, belts, hoses, tires, tune-up items, etc. Please read Service Agreement for complete details.
                <br />
                <br />
                <h4> <b> WITH ALL OF OUR COVERAGES, YOU HAVE 24-HOUR EMERGENCY ROAD SERVICE! </b> </h4> Including towing, flat tire assistane, fuel delivery, jump-starting, lock-out and more for the entire length of the Agreement!
                <br />
                <br />
                <h4> <b> RENTAL CAR ALLOWANCE </b> </h4> Provided on all plans to get you back on the road quickly.
                <br />
                <br />
              </div>
            </div>
            <br>
            <div class="modal-footer">
              <button class="btn btn-default" data-dismiss="modal">Close</button>
              <button class="btn btn-primary " data-dismiss="modal" ng-click="emailWarrantyInterest(testUser)">
                <!-- Confirm this Plan -->
                I want this plan
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Warranties: add admin view -->
<div class="row">
  <div class="col-xs-12">
    <div class="modal fade" data-keyboard="false" data-backdrop="static" id="warrantyPlanAdmin">
      <div class="modal-dialog">
        <div class="modal-content">
          
          <!-- Header -->
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal">&times;</button>
            <h2 class="centered-text">Update Warranty Plan</h2>
          </div>
          
          <!-- Body -->
          <div class="modal-body">
            <div class="row">
              <div class="col-sm-12">
                <div class="group">
                  <select class="inputMODAL" name="warranty-type" ng-model="warranty.type_t">
                    <option value="Any-Year">Drivetrain</option>
                    <option value="Deluxe">Deluxe</option>
                    <option value="Factory-Type">Factory</option>
                  </select>
                  <span class="bar"></span>
                  <label>Type</label>
                </div>
              </div>
            </div>
            
            <div class="row">
              <div class="col-sm-4">
                <div class="group">
                  <input class="inputMODAL" type="number" name="warranty-dur" ng-model="warranty.term.months">
                  <span class="bar"></span>
                  <label>Months</label>
                </div>
              </div>
              
              <div class="col-sm-4">
                <div class="group">
                  <input class="inputMODAL" type="number" name="warranty-miles" ng-model="warranty.term.miles">
                  <span class="bar"></span>
                  <label>Mileage</label>
                </div>
              </div>
              
              <div class="col-sm-4">
                <div class="group">
                  <input class="inputMODAL" placeholder="0.00" type="number" name="warranty-cost" ng-model="warranty.price">
                  <span class="bar"></span>
                  <label>Price</label>
                </div>
              </div>
            </div>
          </div>
          
          <!-- Footer -->
          <div class="modal-footer">
            <button class="btn btn-primary" ng-click="warrantyUpdate()">Update Warranty</button>
            <button class="btn btn-default" data-dismiss="modal">Close</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Creating Modals for the Change Permissions Page -->
<div class="container">
  <div class="row">
    <div class="col-xs-12">
      <div class="modal fade" data-keyboard="false" data-backdrop="static" id="superAdmin" tabindex="-1">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header centered-text">
              <button type="button" class="close" data-dismiss="modal">
                &times;
              </button>
              <span>
                <h3>Are you sure you want to make this user a Super Admin?</h3>
                <div class="divider"></div>
              </span>
            </div>
            <div class="modal-footer">
              <center><button class="btn btn-primary" data-dismiss="modal" ng-click="makeSuperAdmin(user.username, user.superAdmin)">Yes</button>
              <button class="btn btn-primary" data-dismiss="modal">No</button></center>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- regular admin -->
<div class="container">
  <div class="row">
    <div class="col-xs-12">
      <div class="modal fade" data-keyboard="false" data-backdrop="static" id="Admin" tabindex="-1">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header centered-text">
              <button type="button" class="close" data-dismiss="modal">
                &times;
              </button>
              <span>
                <h3>Are you sure you want to make this user an Admin?</h3>
                <div class="divider"></div>
              </span>
            </div>
            <div class="modal-footer">
              <center><button class="btn btn-primary" data-dismiss="modal" ng-click="makeAdmin(user.username, user.isAdmin)">Yes</button>
              <button class="btn btn-primary" data-dismiss="modal">No</button></center>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- User -->
<div class="container">
  <div class="row">
    <div class="col-xs-12">
      <div class="modal fade" data-keyboard="false" data-backdrop="static" id="regUser" tabindex="-1">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header centered-text">
              <button type="button" class="close" data-dismiss="modal">
                &times;
              </button>
              <span>
                <h3>Are you sure you want to make this user a regular user?</h3>
                <div class="divider"></div>
              </span>
            </div>
            <div class="modal-footer">
              <center><button class="btn btn-primary" data-dismiss="modal" ng-click="makeUser(user.username, user.isAdmin)">Yes</button>
              <button class="btn btn-primary" data-dismiss="modal">No</button></center>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="container">
  <div class="row">
    <div class="col-xs-12">
      <div class="modal fade" data-keyboard="false" data-backdrop="static" id="delUser" tabindex="-1">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header centered-text">
              <button type="button" class="close" data-dismiss="modal">
                &times;
              </button>
              <span>
                <h3>Are you sure you want to <b>DELETE</b> this user? This action cannot be undone.</h3>
                <div class="divider"></div>
              </span>
            </div>
            <div class="modal-footer">
              <center><button class="btn btn-primary" data-dismiss="modal" ng-click="removeUser(user.username)">Yes</button>
              <button class="btn btn-primary" data-dismiss="modal">No</button></center>
            </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>