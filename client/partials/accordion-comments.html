<div class="row">
    <div class="col-xs-12 no-padding">
        <div class="panel panel-default chat">
            <div class="panel-heading">
                Comments
            </div>
            <div class="panel-body">
                <ul ng-repeat="comment in loan.comments | orderBy:'time':reverse_comments">
                    <li class="left clearfix">
                        <div class="chat-body clearfix">
                            <span>{{comment.content}}</span>
                            <!-- <small class="text-muted">{{comment.time}}</small> -->
                            <div class="pull-right">
                              <strong class="primary-font" 
                                      ng-if="comment.admin && user_isAdmin">
                                  Admin Only
                              </strong>
                              <small class="text-muted">
                                {{comment.newtime | date: "MMM dd, yyyy"}}
                                <b>{{comment.newtime | date: "h:mm a"}}</b>
                              </small>
                            </div>
                        </div>
                    </li>
                </ul>
            </div>
            <div class="panel-footer">
                <div class="input-group">
                  <!-- i do need the form thing... or not -->
                  <!-- style="display: flex;"> -->
                  <input type="text" class="form-control" 
                         placeholder="Type your message here..." 
                         id="{{loan._id}}-new-comment"/>
                  <div class="input-group-btn">
                    <button class="btn btn-primary btn-md" 
                      ng-click="addComment(loan._id)">
                      Comment
                    </button>
                    <button class="btn btn-md" 
                      ng-class="(loan.commentAsAdmin ? 'btn-dark' : 'btn-info')"
                      ng-click="loan.commentAsAdmin = !loan.commentAsAdmin">
                      <span ng-if="loan.commentAsAdmin">NOT</span>
                      Visible to the user
                    </button>
                    <!-- ng-show="loan.user_email" -->
                    <button class="btn btn-warning btn-md" 
                      ng-click="emailClient(loan._id, loan.user_email, loan.name)">
                      Email
                    </button>
                    <!-- TODO: Add BIG ASS WARNING Modal -->
                    <!-- 
                    <button class="btn btn-danger btn-md" ng-click="removeLoan(loan._id)">
                      Archieve
                    </button>
                     -->
                  </div>
                </div>
            </div>
        </div>
    </div>
</div>