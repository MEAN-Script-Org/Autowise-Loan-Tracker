<!DOCTYPE html>
<html>
<head>
  <% include partials/header.html %>
</head>
<body>

  <% include partials/nav.html %>
  <!-- 
  add title before query "available plans"
  Mileage -> Car Mileage 
  Add description of "pleaes enter car information" at the top 
  -->
  
  <!-- MAIN PAGE DIV -->
  <div class="col-sm-12 col-lg-12 main"
    ng-app="SWEApp" ng-controller="Warranties" ng-init="init()">
		<div class="header row">
			<ol class="breadcrumb">
				<li><a href="#">
					<em class="fa fa-home"></em>
				</a></li>
				<li class="active">Active Loans</li>
				<li class="active">Warranties</li>
			</ol>
		</div>
    
    <!-- ROW - WARRANTIES QUERY FORM -->
		<div class="row">
			<div class="col-md-12">
        <h1 class="page-header">Warranties</h1>

        <h5 class="warranty-instruction">
          Enter car information. Qualified warranties will be displayed below
        </h5>

        <!-- FORM FOR WARRANTY PLAN QUERY -->
        <form ng-submit="queryWarrantyPlan()">
          <fieldset>
            <!-- DROP-DOWN FOR CAR AGE SELECTION -->
            <div class="form-group">
              <!-- <h3 class="page-header-warranties">Insurance Type - Car Model Year</h3> -->
              <h3>Insurance Type - Car Model Year</h3>
              <select ng-model="query.age" ng-change="queryWarrantyPlan()">
                <option value="-1">BASIC - ANY YEAR</option>
                <option value="2007">DELUXE - 2007 OR NEWER</option>
                <option value="2011">FACTORY COVERAGE - 2011 OR NEWER</option>
              </select>
            </div>
            
            <!-- TEXT-ENTRY FOR CAR MILEAGAE -->
            <div class="form-group">
            <h3 class="page-header-warranties">Mileage</h3>
              <input type="text" name="Mileage" ng-model="query.mileage" ng-change="queryWarrantyPlan()" > miles<br>
            </div>
            
            <!-- RADIO BUTTON FOR CAR MAKE/COUNTRY OF ORIGIN -->
            <div class="form-group">
            <h3 class="page-header-warranties">Car make: Domestic or Asian</h3>
              <input type="radio" name="RadioAnswer" ng-model="query.make" value="Domestic" ng-change="queryWarrantyPlan()" > Domestic<br>
              <input type="radio" name="RadioAnswer" ng-model="query.make" value="Asian" ng-change="queryWarrantyPlan()"> Asian
            </div>
          </fieldset>
        </form>
      </div>
		</div>
    

    <!-- ROW - WARRANTIES QUERY RESULTS -->
    <div class="row">

      <div class="panel-heading">
        <center><h2 class="page-header">Available Warranty Plans:</h2><center>
      </div>

      <div class="col-md-12">
        <div class="container-accordion">
          <div class="accordion">
            <dl>
              <div ng-repeat="warranty in matchedWarranties | orderBy: ['term.months' , 'term.miles']">

                <!-- ACCORDION HEADER -->
                <dt>
                  <a class="accordionFakeTitle">
                    <div class="warrantiesQueryText">
                      <!-- <h4><strong>Age:</strong> {{warranty.age}}</h4> -->

                      <h4><strong>Term length of warranty:</strong> {{warranty.term.months}} months</h4>
                      <h4><strong>Mileage length of warranty:</strong> {{warranty.term.miles}} miles</h4>
                      <!-- <h4><strong>Max Mileage:</strong> {{warranty.mileage}} miles</h4> -->
                      <h2><strong>Price:</strong> ${{warranty.price}}.00</h2>
                    </div>
                  </a>
                </dt>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
	
  <!-- JAVASCRIPT FILES -->
  <% include partials/footer.html %> 
  <script src="js/classie.js"></script>
  <script src="js/uisearch.js"></script>
</body>
</html>